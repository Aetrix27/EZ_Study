{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\David\\\\Desktop\\\\dev\\\\courses\\\\acs2912.2\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";import _createClass from\"C:\\\\Users\\\\David\\\\Desktop\\\\dev\\\\courses\\\\acs2912.2\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";import axios from\"axios\";var API_URL=\"http://localhost:8080/user\";// handles authentication for the user (login, logout, register) and also can get the currently authenticated user's info\nvar AuthService=/*#__PURE__*/function(){function AuthService(){_classCallCheck(this,AuthService);}_createClass(AuthService,[{key:\"login\",value:// authenticates user and saves accessToken in localStorage\nfunction login(username,password){axios.post(API_URL+\"/signin\",{username:username,password:password}).then(function(response){if(response.data.accessToken){// saves accesstoken to browser's local storage\nlocalStorage.setItem(\"user\",JSON.stringify(response.data));console.log(window.localStorage.getItem('user'));}}).catch(function(error){console.log(error);});}// logs currently authenticated user out\n},{key:\"logout\",value:function logout(){localStorage.removeItem(\"user\");}},{key:\"register\",value:function register(username,password){axios.post(\"\".concat(API_URL,\"/signup\"),{username:username,password:password}).then(function(response){console.log(response);}).catch(function(error){console.log(error);});}// get current user's ID and accesstoken\n},{key:\"getCurrentUser\",value:function getCurrentUser(){return JSON.parse(localStorage.getItem('user'));;}}]);return AuthService;}();export default new AuthService();","map":{"version":3,"sources":["C:/Users/David/Desktop/dev/courses/acs2912.2/client/src/services/auth-service.js"],"names":["axios","API_URL","AuthService","username","password","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","console","log","window","getItem","catch","error","removeItem","parse"],"mappings":"0SAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,OAAO,CAAG,4BAAhB,CAEA;GAEMC,CAAAA,W,gIAEJ;AACA,eAAMC,QAAN,CAAgBC,QAAhB,CAA0B,CACxBJ,KAAK,CACJK,IADD,CACMJ,OAAO,CAAG,SADhB,CAC2B,CACzBE,QAAQ,CAARA,QADyB,CAEzBC,QAAQ,CAARA,QAFyB,CAD3B,EAKCE,IALD,CAKM,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,CAA+B,CAC7B;AACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B,EACAM,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACN,YAAP,CAAoBO,OAApB,CAA4B,MAA5B,CAAZ,EACD,CACF,CAXD,EAYCC,KAZD,CAYO,SAAUC,KAAV,CAAiB,CACtBL,OAAO,CAACC,GAAR,CAAYI,KAAZ,EACD,CAdD,EAgBD,CAED;sBACA,iBAAS,CACPT,YAAY,CAACU,UAAb,CAAwB,MAAxB,EACD,C,wBAED,kBAASjB,QAAT,CAAmBC,QAAnB,CAA6B,CAC3BJ,KAAK,CAACK,IAAN,WAAcJ,OAAd,YAAgC,CAC9BE,QAAQ,CAARA,QAD8B,CAE9BC,QAAQ,CAARA,QAF8B,CAAhC,EAICE,IAJD,CAIM,SAAUC,QAAV,CAAoB,CACxBO,OAAO,CAACC,GAAR,CAAYR,QAAZ,EACD,CAND,EAOCW,KAPD,CAOO,SAAUC,KAAV,CAAiB,CACtBL,OAAO,CAACC,GAAR,CAAYI,KAAZ,EACD,CATD,EAUD,CAED;8BACA,yBAAiB,CACf,MAAOP,CAAAA,IAAI,CAACS,KAAL,CAAWX,YAAY,CAACO,OAAb,CAAqB,MAArB,CAAX,CAAP,CAAgD,CACjD,C,2BAGH,cAAe,IAAIf,CAAAA,WAAJ,EAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:8080/user\";\r\n\r\n// handles authentication for the user (login, logout, register) and also can get the currently authenticated user's info\r\n\r\nclass AuthService {\r\n  \r\n  // authenticates user and saves accessToken in localStorage\r\n  login(username, password) {\r\n    axios\r\n    .post(API_URL + \"/signin\", {\r\n      username,\r\n      password\r\n    })\r\n    .then(response => {\r\n      if (response.data.accessToken) {\r\n        // saves accesstoken to browser's local storage\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n        console.log(window.localStorage.getItem('user'))\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n     \r\n  }\r\n\r\n  // logs currently authenticated user out\r\n  logout() {\r\n    localStorage.removeItem(\"user\");\r\n  }\r\n\r\n  register(username, password) {\r\n    axios.post(`${API_URL}/signup`, {\r\n      username,\r\n      password\r\n    })\r\n    .then(function (response) {\r\n      console.log(response);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  // get current user's ID and accesstoken\r\n  getCurrentUser() {\r\n    return JSON.parse(localStorage.getItem('user'));;\r\n  }\r\n}\r\n\r\nexport default new AuthService();"]},"metadata":{},"sourceType":"module"}